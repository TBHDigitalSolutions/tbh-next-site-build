/* src/packages/sections/PackageDetailOverview/parts/IncludesFromGroups/IncludesFromGroups.module.css
   Brand-aligned, responsive, container-query enhanced.

   Consumes tokens from packages-unified.module.css → unified-theme.css/root.css.
   TSX uses: wrap, heading, compact, deliverables, deliverablesHeading, deliverablesList
*/

/* Root layout ------------------------------------------------------------- */
.wrap {
    display: grid;
    gap: var(--spacing-sm, 0.75rem);
    margin-top: var(--spacing-md, 1rem);
    color: var(--pkg-text, var(--text-primary));
    text-wrap: pretty;
    max-inline-size: 80ch;
    /* readable line length */
    margin-inline: auto;
    container-type: inline-size;
    /* enable container queries */
}

/* Compact spacing variant (prop: compact) -------------------------------- */
.compact {
    gap: var(--spacing-xs, 0.5rem);
    margin-top: var(--spacing-sm, 0.75rem);
}

/* Section heading --------------------------------------------------------- */
.heading {
    margin: 0;
    font-family: var(--font-heading, Aldrich, sans-serif);
    font-weight: var(--font-weight-extrabold, 800);
    line-height: 1.2;
    letter-spacing: 0.2px;
    /* Brand: headings lean into the accent */
    color: var(--text-accent, var(--pkg-text-accent, var(--brand-blue, #0EAFFB)));
    font-size: var(--font-size-h4, clamp(1.125rem, 0.8vw + 1rem, 1.375rem));
    text-wrap: balance;
}

/* Divider spacing (works with Divider atom or plain <hr>) ----------------- */
.wrap> :is(hr, .divider) {
    margin: 0.15rem 0 0.35rem 0;
    inline-size: 100%;
}

/* Table spacing (PackageIncludesTable renders after the heading) ---------- */
.wrap> :is(table, .package-includes-table, [data-component="package-includes-table"]) {
    border-radius: var(--radius-md, 8px);
    background: var(--pkg-table-bg, var(--bg-surface));
    box-shadow: var(--shadow-xs, 0 1px 0 rgba(0, 0, 0, .08));
}

/* Deliverables block ------------------------------------------------------ */
.deliverables {
    display: grid;
    gap: var(--spacing-sm, 0.75rem);
    margin-top: var(--spacing-sm, 0.75rem);
    padding-top: var(--spacing-sm, 0.75rem);
}

/* Optional “between sections” divider when title/table exists */
.deliverables> :is(hr, .divider) {
    margin: var(--spacing-xs, 0.5rem) 0;
}

/* Deliverables heading */
.deliverablesHeading {
    margin: 0;
    font-family: var(--font-heading, Aldrich, sans-serif);
    font-weight: var(--font-weight-extrabold, 800);
    letter-spacing: 0.15px;
    line-height: 1.2;
    color: var(--text-accent, var(--pkg-text-accent, var(--brand-blue, #0EAFFB)));
    font-size: clamp(1.05rem, 0.6vw + 0.9rem, 1.25rem);
}

/* Deliverables list (brand markers + hanging bullets) --------------------- */
.deliverablesList {
    --_list-indent: 1.25em;
    display: grid;
    gap: var(--spacing-2xs, 0.25rem);
    margin: 0;
    padding: 0 0 0 var(--_list-indent);
    list-style: disc outside;
    color: var(--text-secondary, var(--pkg-text-muted, #c9ced1));
    font-family: var(--font-body, Newsreader, serif);
    font-size: var(--font-size-body, clamp(0.98rem, 0.4vw + 0.9rem, 1.0625rem));
}

.deliverablesList>li {
    padding-inline-start: 0.15em;
}

.deliverablesList>li::marker {
    color: var(--brand-blue, var(--pkg-brand, #0EAFFB));
}

/* Density auto-tuning when compact + many items --------------------------- */
.compact .deliverablesList {
    gap: 0.2rem;
}

/* ------------------------ Modern responsiveness ------------------------- */
/* Container queries: scale text within its layout container (not viewport) */
@container (min-width: 520px) {
    .heading {
        font-size: var(--font-size-h3, clamp(1.25rem, 1.2cqi + 1rem, 1.6rem));
    }

    .deliverablesHeading {
        font-size: clamp(1.1rem, 0.8cqi + 0.95rem, 1.35rem);
    }
}

@container (min-width: 840px) {
    .wrap {
        gap: var(--spacing-md, 1rem);
    }

    .heading {
        font-size: var(--font-size-h2, clamp(1.4rem, 1.4cqi + 1.1rem, 1.9rem));
    }

    .deliverablesHeading {
        font-size: clamp(1.15rem, 0.9cqi + 1rem, 1.45rem);
    }

    .deliverablesList {
        font-size: clamp(1rem, 0.5cqi + 0.95rem, 1.125rem);
    }
}

/* Viewport fallback when container queries unsupported -------------------- */
@media (max-width: 640px) {
    .wrap {
        gap: var(--spacing-xs, 0.5rem);
    }

    .deliverablesList {
        font-size: clamp(0.95rem, 1.6vw + 0.8rem, 1.05rem);
    }
}

/* Motion/accessibility ---------------------------------------------------- */
@media (prefers-reduced-motion: reduce) {
    .wrap * {
        transition: none !important;
    }
}

/* Print-safe tweaks ------------------------------------------------------- */
@media print {
    .wrap {
        max-inline-size: none;
    }

    .deliverables {
        break-inside: avoid;
    }
}