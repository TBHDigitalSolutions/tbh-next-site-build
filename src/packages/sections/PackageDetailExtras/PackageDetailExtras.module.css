/* src/packages/sections/PackageDetailExtras/PackageDetailExtras.module.css
   Brand-aligned, responsive, container-query powered styles for the
   PackageDetailExtras section.

   Implements the “Title + Divider + Tagline” wrapping/alignment rule:
   - .block       → Section wrapper
   - .header      → Parent container for header content
   - .headerTop   → Wraps Title + Divider together
   - .headerTitle → Title
   - .headerDivider → Divider directly under Title (inside .headerTop)
   - .headerTagline → Tagline positioned directly beneath .headerTop

   Tokens come from packages-unified.module.css → unified-theme.css
   with safe fallbacks for local development.
*/

/* ------------------------------ Root wrap -------------------------------- */
.wrap {
    display: grid;
    gap: var(--space-6, 1.25rem);
    inline-size: 100%;
    min-inline-size: 0;
    color: var(--pkg-text, var(--text-primary, #e7edf2));
    container-type: inline-size;
    /* enable container queries for children */
}

/* ------------------------------- Blocks ---------------------------------- */
.block {
    display: grid;
    gap: var(--space-5, 1rem);
    padding-block: var(--space-2, 0.5rem);
    /* keeps sections visually distinct without heavy chrome */
}

/* ---------------------- Header / Title+Divider+Tagline ------------------- */
/* Parent container holding (Title+Divider) and Tagline */
.header {
    display: grid;
    justify-items: center;
    /* Center the title+divider group AND the tagline block */
    gap: var(--space-3, 0.75rem);
    text-wrap: pretty;
}

/* Wrap the Title + Divider together (MANDATORY rule) */
.headerTop {
    display: grid;
    justify-items: center;
    /* Center Title and Divider */
    gap: var(--space-2, 0.5rem);
    inline-size: 100%;
    max-inline-size: 72ch;
}

/* Title — centered */
.headerTitle {
    margin: 0;
    text-align: center;
    font-family: var(--font-heading, Aldrich, ui-sans-serif);
    font-weight: var(--font-weight-extrabold, 800);
    letter-spacing: 0.15px;
    line-height: 1.2;
    color: var(--text-accent, var(--brand-blue, #0EAFFB));
    font-size: var(--font-size-h3, clamp(1.25rem, 1.2cqi + 1rem, 1.6rem));
    text-wrap: balance;
}

/* Divider placed directly under the Title (inside .headerTop) */
.headerDivider {
    inline-size: clamp(160px, 35%, 360px);
    height: 2px;
    border-radius: 999px;
    background:
        linear-gradient(90deg,
            color-mix(in lab, var(--brand-blue, #0EAFFB) 60%, transparent) 0%,
            color-mix(in lab, var(--brand-blue, #0EAFFB) 85%, #0c1a24) 50%,
            color-mix(in lab, var(--brand-blue, #0EAFFB) 60%, transparent) 100%);
    box-shadow: 0 0 0 1px color-mix(in oklab, var(--brand-blue, #0EAFFB) 20%, transparent);
}

/* Tagline — center the *block*, left-align the *text* inside */
.headerTagline {
    margin: 0;
    inline-size: min(72ch, 100%);
    text-align: left;
    /* left-aligned text within a centered block */
    color: var(--text-secondary, #c9ced1);
    font-family: var(--font-body, Newsreader, ui-serif);
    font-size: clamp(0.98rem, 0.45cqi + 0.9rem, 1.0625rem);
    line-height: 1.6;
}

/* ------------------------------ Timeline --------------------------------- */
.timeline {
    /* Horizontal stepper: steps with connector items between them */
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: 1fr;
    align-items: center;
    gap: var(--space-4, 0.875rem);
    list-style: none;
    padding: 0;
    margin: 0;
    overflow: hidden;
}

/* Step card */
.step {
    min-inline-size: 0;
}

.stepCard {
    display: grid;
    grid-template-columns: auto 1fr;
    align-items: center;
    gap: var(--space-3, 0.75rem);
    padding: var(--space-4, 0.875rem) var(--space-5, 1rem);
    background: var(--surface-charcoal, #12141e);
    border: 1px solid color-mix(in oklab, var(--brand-blue, #0EAFFB) 18%, #0b0f17);
    border-radius: var(--radius-lg, 14px);
    box-shadow: var(--shadow-sm, 0 6px 16px rgba(0, 0, 0, .25));
}

.stepIndex {
    inline-size: 2rem;
    block-size: 2rem;
    display: grid;
    place-items: center;
    border-radius: 50%;
    color: #0b121a;
    background: var(--brand-blue, #0EAFFB);
    font-weight: 800;
    font-family: var(--font-heading, Aldrich, ui-sans-serif);
    font-size: 1rem;
    letter-spacing: 0.2px;
}

.stepBody {
    min-inline-size: 0;
    display: grid;
    gap: var(--space-1, 0.375rem);
}

.stepTitle {
    font-family: var(--font-heading, Aldrich, ui-sans-serif);
    font-weight: 700;
    color: var(--text-primary, #e7edf2);
    line-height: 1.2;
}

.stepNote {
    margin: 0;
    color: var(--text-secondary, #c9ced1);
    font-family: var(--font-body, Newsreader, ui-serif);
    font-size: clamp(0.92rem, 0.35cqi + 0.86rem, 1rem);
    line-height: 1.45;
}

/* Connector (line + chevron) between steps */
.connector {
    display: grid;
    grid-template-columns: 1fr auto;
    align-items: center;
    gap: var(--space-2, 0.5rem);
}

.line {
    inline-size: 100%;
    height: 2px;
    background: linear-gradient(90deg,
            color-mix(in lab, var(--brand-blue, #0EAFFB) 40%, transparent),
            color-mix(in lab, var(--brand-blue, #0EAFFB) 75%, #0e1822));
    border-radius: 999px;
}

.chevron {
    inline-size: 0.6rem;
    block-size: 0.6rem;
    rotate: -45deg;
    border-inline-end: 2px solid var(--brand-blue, #0EAFFB);
    border-block-start: 2px solid var(--brand-blue, #0EAFFB);
    border-radius: 2px;
}

/* --------------------------- Ethics & Limits ----------------------------- */
.ethicsList,
.limitsList {
    list-style: none;
    padding: 0;
    margin: 0;
    display: grid;
    gap: var(--space-2, 0.5rem);
}

.ethicsList>li,
.limitsList>li {
    padding: var(--space-3, 0.75rem) var(--space-4, 0.875rem);
    background: color-mix(in oklab, var(--surface-charcoal, #12141e) 92%, transparent);
    border: 1px solid color-mix(in oklab, var(--brand-blue, #0EAFFB) 15%, #0b0f17);
    border-radius: var(--radius-md, 12px);
    color: var(--text-secondary, #c9ced1);
    font-family: var(--font-body, Newsreader, ui-serif);
    font-size: clamp(0.95rem, 0.35cqi + 0.9rem, 1.05rem);
    line-height: 1.55;
}

/* --------------------------- Container Queries --------------------------- */
/* Scale title/divider inside their container (not viewport) */
@container (min-width: 520px) {
    .headerTitle {
        font-size: clamp(1.35rem, 0.9cqi + 1.1rem, 1.75rem);
    }

    .headerDivider {
        inline-size: clamp(220px, 40%, 420px);
    }

    .timeline {
        gap: var(--space-5, 1rem);
    }
}

@container (min-width: 840px) {
    .headerTitle {
        font-size: clamp(1.5rem, 1.1cqi + 1.2rem, 2rem);
    }

    .stepCard {
        padding: var(--space-5, 1rem) var(--space-6, 1.25rem);
    }
}

/* ------------------------- Reduced Motion/Print -------------------------- */
@media (prefers-reduced-motion: reduce) {
    .wrap * {
        transition: none !important;
    }
}

@media print {
    .timeline {
        grid-auto-flow: row;
        grid-auto-columns: auto;
    }
}

/* --------------------------- High Contrast A11y -------------------------- */
@media (forced-colors: active) {
    .headerDivider {
        background: CanvasText;
        box-shadow: none;
    }

    .chevron {
        border-color: CanvasText;
    }
}