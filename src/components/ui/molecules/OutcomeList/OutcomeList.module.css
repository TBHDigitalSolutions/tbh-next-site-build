/* src/components/ui/molecules/OutcomeList/OutcomeList.module.css
   Brand-aligned, responsive, container-query enhanced.

   Consumes tokens from packages-unified.module.css → unified-theme.css/root.css.
   TSX contract: root, md|sm, list|inline|grid, cols1|cols2|cols3,
                 item, iconWrap, icon, content, label, emphasis, note
*/

/* ============================== ROOT ==================================== */
.root {
    /* Brand mappings (safe fallbacks) */
    --outcome-fg: var(--pkg-text, var(--text-primary, #f4f6f7));
    --outcome-fg-dark: var(--pkg-text, var(--text-primary, #f4f6f7));
    --outcome-accent: var(--text-accent, var(--pkg-text-accent, var(--brand-blue, #0EAFFB)));
    --outcome-muted: var(--text-secondary, var(--pkg-text-muted, #c9ced1));

    margin: 0;
    padding: 0;
    list-style: none;

    color: var(--outcome-fg);
    font-variant-numeric: tabular-nums;
    text-wrap: pretty;

    /* Scale by the column/card it lives in (not the viewport) */
    container-type: inline-size;
}

/* ============================== DENSITY ================================ */
.md,
.sm {
    display: grid;
}

.md {
    --gap-row: 0.5rem;
    --gap-col: 1rem;
    --icon-size: 0.95rem;
    --label-size: clamp(0.98rem, 0.6cqi + 0.92rem, 1.0625rem);
    --note-size: clamp(0.875rem, 0.4cqi + 0.82rem, 0.95rem);
}

.sm {
    --gap-row: 0.375rem;
    --gap-col: 0.75rem;
    --icon-size: 0.85rem;
    --label-size: clamp(0.92rem, 0.5cqi + 0.86rem, 1rem);
    --note-size: clamp(0.8125rem, 0.3cqi + 0.78rem, 0.9rem);
}

/* ============================== LAYOUTS ================================ */
.list {
    display: grid;
    row-gap: var(--gap-row);
}

.inline {
    display: flex;
    flex-wrap: wrap;
    gap: var(--gap-row) var(--gap-col);
    align-items: baseline;
}

.grid {
    display: grid;
    grid-auto-rows: minmax(min-content, max-content);
    row-gap: var(--gap-row);
    column-gap: var(--gap-col);
}

/* column presets (TSX picks one of these) */
.cols1 {
    grid-template-columns: 1fr;
}

.cols2 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
}

.cols3 {
    grid-template-columns: repeat(3, minmax(0, 1fr));
}

/* =============================== ITEM ================================== */
.item {
    display: grid;
    grid-template-columns: auto 1fr;
    column-gap: 0.5rem;
    align-items: start;
    min-inline-size: 0;
    /* avoid overflow in tight grids */
}

/* Icon cell --------------------------------------------------------------- */
.iconWrap {
    line-height: 1;
    inline-size: var(--icon-size);
    block-size: var(--icon-size);
    display: inline-grid;
    place-items: center;
    color: var(--outcome-accent);
    border-radius: var(--radius-sm, 6px);
    /* improves focus visuals if wrapped in a button later */
}

.icon {
    inline-size: var(--icon-size);
    block-size: var(--icon-size);
}

/* Content ---------------------------------------------------------------- */
.content {
    display: grid;
    gap: 0.125rem;
    min-inline-size: 0;
}

.label {
    font-size: var(--label-size);
    font-weight: 600;
    color: var(--text-primary, currentColor);
    text-wrap: balance;
}

.emphasis {
    font-weight: 800;
}

.note {
    font-size: var(--note-size);
    color: var(--outcome-muted);
    opacity: 0.92;
}

/* =========================== CONTAINER QUERIES ========================== */
/* Scale nicely inside wider columns/cards */
@container (min-width: 36rem) {
    .md {
        --gap-row: 0.6rem;
        --gap-col: 1.1rem;
    }

    .sm {
        --gap-row: 0.45rem;
        --gap-col: 0.9rem;
    }

    .icon {
        inline-size: calc(var(--icon-size) + 0.05rem);
        block-size: calc(var(--icon-size) + 0.05rem);
    }
}

@container (min-width: 56rem) {
    .grid {
        column-gap: calc(var(--gap-col) + 0.25rem);
    }

    .cols3 {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }
}

/* Viewport fallback when container queries aren’t supported --------------- */
@media (max-width: 640px) {
    .grid.cols2 {
        grid-template-columns: 1fr;
    }

    .grid.cols3 {
        grid-template-columns: 1fr;
    }
}

/* ============================== ACCESSIBILITY =========================== */
@media (prefers-reduced-motion: reduce) {
    .root * {
        transition: none !important;
    }
}

@media (forced-colors: active) {
    .iconWrap {
        color: Highlight;
    }
}

/* ============================== DARK HOOK =============================== */
@media (prefers-color-scheme: dark) {
    .root {
        color: var(--outcome-fg-dark);
    }
}

/* ================================ PRINT ================================= */
@media print {
    .grid {
        column-gap: 0.5rem;
        row-gap: 0.4rem;
    }
}