/* src/components/ui/molecules/ServiceChip/ServiceChip.module.css
   Brand-aligned, responsive, container-query enhanced.

   Consumes tokens from packages-unified.module.css → unified-theme.css/root.css.
   TSX contract: chip, sm|md, iconWrap, icon, fallbackDot, text,
                 subtle|solid|outline, interactive, selected,
                 svcWebdev|svcSeo|svcVideo|svcContent|svcMarketing|svcLeadgen|svcCustom
*/

/* =============================== BASE =================================== */
.chip {
    /* Brand mappings with safe fallbacks */
    --chip-accent: var(--brand-blue, #0EAFFB);
    --chip-ring: var(--card-ring, color-mix(in oklab, var(--chip-accent) 45%, white));

    /* Background/text are set by variants; keep neutral defaults */
    --chip-bg: var(--pkg-card-bg, var(--bg-elevated, #121224));
    --chip-fg: var(--pkg-card-fg, var(--text-primary, #f4f6f7));

    display: inline-flex;
    align-items: center;
    gap: 0.4rem;

    border-radius: 999px;
    border: 1px solid transparent;
    background: var(--chip-bg);
    color: var(--chip-fg);

    white-space: nowrap;
    text-decoration: none;
    line-height: 1;

    /* Fluid type + container queries for better scaling inside grids/cards */
    font-size: clamp(0.8125rem, 0.6cqi + 0.78rem, 0.95rem);
    container-type: inline-size;

    transition:
        background-color var(--transition-standard, 160ms ease),
        border-color var(--transition-standard, 160ms ease),
        color var(--transition-standard, 160ms ease),
        box-shadow var(--transition-standard, 160ms ease);
}

/* Sizes ------------------------------------------------------------------ */
.sm {
    padding: 0.25rem 0.55rem;
}

.md {
    padding: 0.35rem 0.7rem;
}

/* Icon cell --------------------------------------------------------------- */
.iconWrap {
    display: inline-grid;
    place-items: center;
    line-height: 1;
}

.icon {
    inline-size: 1em;
    block-size: 1em;
}

.fallbackDot {
    inline-size: 0.5em;
    block-size: 0.5em;
    border-radius: 999px;
    background: currentColor;
    display: inline-block;
}

.text {
    font-weight: 600;
}

/* ============================== VARIANTS ================================ */
/* Subtle: light tint of accent on current surface */
.subtle {
    --chip-bg: var(--chip-bg-subtle,
            color-mix(in oklab, var(--chip-accent) 14%, var(--bg-surface, #0B0A18)));
    --chip-fg: var(--chip-fg-subtle,
            color-mix(in oklab, var(--chip-accent) 70%, white));
    border-color: transparent;
}

/* Solid: strong accent background, dark readable text */
.solid {
    --chip-bg: var(--chip-bg-solid, var(--chip-accent));
    --chip-fg: var(--chip-fg-solid, #0b1220);
    border-color: transparent;
}

/* Outline: transparent bg, accent text/border */
.outline {
    --chip-bg: transparent;
    --chip-fg: var(--chip-accent);
    background: transparent;
    border-color: currentColor;
}

/* ============================ INTERACTION =============================== */
.interactive {
    cursor: pointer;
}

@media (hover: hover) {
    .interactive:hover {
        /* subtle lift without changing contrast aggressively */
        background:
            color-mix(in oklab, var(--chip-bg) 92%, white);
    }
}

.interactive:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px var(--chip-ring);
}

.selected {
    /* token-aligned inset ring */
    box-shadow: 0 0 0 2px var(--package-ring, var(--card-ring, currentColor)) inset;
}

/* Disabled buttons (anchors don’t get disabled attr) */
.interactive:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    filter: none;
}

/* =========================== SERVICE THEMES ============================= */
/* Each service sets an accent var. Variants derive bg/fg from that. */
.svcWebdev {
    --chip-accent: var(--svc-webdev, #4f46e5);
}

/* indigo */
.svcSeo {
    --chip-accent: var(--svc-seo, #10b981);
}

/* emerald */
.svcVideo {
    --chip-accent: var(--svc-video, #8b5cf6);
}

/* violet */
.svcContent {
    --chip-accent: var(--svc-content, #06b6d4);
}

/* cyan   */
.svcMarketing {
    --chip-accent: var(--svc-marketing, #f59e0b);
}

/* amber  */
.svcLeadgen {
    --chip-accent: var(--svc-leadgen, #f43f5e);
}

/* rose   */

/* Custom/fallback: allow external overrides (—chip-accent, —chip-ring) */
.svcCustom {}

/* ========================== CONTAINER QUERIES =========================== */
@container (min-width: 36rem) {
    .chip {
        font-size: clamp(0.85rem, 0.8cqi + 0.8rem, 1rem);
    }
}

@container (min-width: 56rem) {
    .chip {
        font-size: clamp(0.9rem, 1cqi + 0.85rem, 1.05rem);
    }
}

/* ============================= ACCESSIBILITY ============================ */
@media (prefers-reduced-motion: reduce) {
    .chip {
        transition: none !important;
    }
}

@media (forced-colors: active) {
    .outline {
        border-color: ButtonText;
    }

    .interactive:focus-visible {
        box-shadow: 0 0 0 3px Highlight;
    }
}

/* ================================ PRINT ================================= */
@media print {
    .chip {
        box-shadow: none !important;
    }
}